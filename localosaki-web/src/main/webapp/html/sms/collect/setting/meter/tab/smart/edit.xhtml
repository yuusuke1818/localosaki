<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:cust="http://xmlns.jcp.org/jsf/component"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:a4j="http://richfaces.org/a4j">
<div style="margin-top: 0;">
    <div>
        <rich:messages id="s4Messages" styleClass="errNonSearch errArea" />
        <h3 class="contents_title editDisp">登録内容変更</h3>
        <!-- 各入力項目は一覧のチェックボックスの状態変更時にセットしている smsCollectSettingMeterMeterManagementBean.checkBoxOperation() -->
        <form jsfc="h:form" id="smartEditForm">
            <div class="contents_form_area editDisp">
                <div jsfc="a4j:outputPanel" id="s4Panel">
                    <table class="s4Table">
                        <tr style="height: 10px">
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="TXT008">登録先装置選択</td>
                            <td class="TXT020" colspan="2"><h:outputText id="s4DevName"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartProperty.devName}"></h:outputText>
                                <h:inputHidden
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.devId}"
                                    id="s4DevId" /></td>
                            <td>※登録先装置を選択</td>
                        </tr>
                        <tr>
                            <td class="TXT008">メーター管理番号</td>
                            <td class="TXT020" colspan="2"><h:outputText id="s4MeterMngId"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.meterMngId}"></h:outputText>
                            </td>
                            <td>※登録メーター管理番号</td>
                        </tr>
                        <tr>
                            <td class="TXT008">ユーザーコード</td>
                            <td colspan="2"><h:inputText id="s4UserCode"
                                    class="textWidthMedium check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.tenantId}"
                                    maxlength="6"
                                    style="#{smsCollectSettingMeterMeterManagementBean.getInvalidStyle(component.clientId)}"></h:inputText>
                            </td>
                            <td>※入力範囲 ： "1～999999" または "ブランク"</td>
                        </tr>
                        <tr>
                            <td class="TXT008">計器ID</td>
                            <td class="TXT020" colspan="2"><h:outputText id="s4EquipId"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.meterId}"></h:outputText>
                            </td>
                            <td>※全10桁 (半角英数字)</td>
                        </tr>
                        <tr>
                            <td class="TXT008">コメント</td>
                            <td colspan="2"><h:inputText id="s4Comment"
                                    class="textWidthLarge check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.memo}"
                                    maxlength="20"></h:inputText>
                            </td>
                            <td>※最大20文字</td>
                        </tr>
                        <tr>
                            <td class="TXT008">メーター種別</td>
                            <td colspan="2"><h:selectOneMenu id="s4MetertypeSelect"
                                    class="EDIT002 check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.meterType}">
                                    <f:selectItems
                                        value="#{smsCollectSettingMeterMeterManagementBean.metertypeMap}" />
                                </h:selectOneMenu></td>
                            <td>※メーターの種別を選択</td>
                        </tr>
                        <tr>
                            <td class="TXT008">検満年月</td>
                            <td colspan="2"><f:ajax event="click"
                                            execute="@form"
                                            render="smsCollectSettingMeterMeterManagementBean:smartEditForm:s4YearDisp">
                                            <h:selectOneRadio id="s4DispYearCls"
                                value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.dispYearFlg}"
                                styleClass="SELECT001" style="width: 100%; height: 25px;"
                                onchange="dispYearClsChange(this.value)">
                                <f:selectItems
                                    value="#{smsCollectSettingMeterMeterManagementBean.dispYearMap}" />
                            </h:selectOneRadio></f:ajax> <br /> <div jsfc="a4j:outputPanel" id="s4YearDisp">
                            <ui:fragment rendered="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.dispYearFlg == '0'}">
                            <span id="s4SeirekiDisp"> 西暦 &nbsp;&nbsp; <h:inputText
                                    id="s4Year" class="textWidthSmall check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.examEndYear}" maxlength="4"
                                    style="#{smsCollectSettingMeterMeterManagementBean.getInvalidStyle(component.clientId)}"></h:inputText>
                        </span></ui:fragment><ui:fragment rendered="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.dispYearFlg == '1'}">
                         <span id="s4WarekiDisp"> 元号 <h:selectOneMenu
                                    id="s4GengoSelect" class="EDIT002 check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.examEndYmGengo}"
                                    style="#{smsCollectSettingMeterMeterManagementBean.getInvalidStyle(component.clientId)}">
                                    <f:selectItems
                                        value="#{smsCollectSettingMeterMeterManagementBean.gengoMap}" />
                                </h:selectOneMenu> &nbsp;&nbsp; <h:inputText id="s4YearWareki"
                                    class="textWidthSmall check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.examEndYearWareki}" maxlength="2"
                                    style="#{smsCollectSettingMeterMeterManagementBean.getInvalidStyle(component.clientId)}"></h:inputText>
                        </span></ui:fragment></div>
                                    年
                            <h:inputText id="s4Month" class="textWidthSmall check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.examEndMonth}"
                                    maxlength="2"
                                    style="#{smsCollectSettingMeterMeterManagementBean.getInvalidStyle(component.clientId)}"></h:inputText>
                                月</td>
                            <td>※検定有効期間が満了する年月を西暦または和暦で入力</td>
                        </tr>
                        <tr>
                            <td class="TXT008">検満通知</td>
                            <td colspan="2"><h:selectOneMenu id="s4ExamnoticeSelect"
                                    class="EDIT002 check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.examNotice}">
                                    <f:selectItems
                                        value="#{smsCollectSettingMeterMeterManagementBean.examnoticeMap}" />
                                </h:selectOneMenu></td>
                            <td>※検満年月の <font color="red"> <h:outputText
                                        value="#{smsCollectSettingMeterMeterManagementBean.examNoticeMonth}"></h:outputText>ヶ月
                            </font> 前からメール通知します。
                            </td>
                        </tr>
                    </table>
                    <h:inputHidden
                            value="#{smsCollectSettingMeterMeterManagementBean.smartUpdateProperty.version}"
                            id="s4Version" />
                </div>
                <br /> <br /> <br />
                <div class="gradation_type_1 button_large_2 btnRegistLayout">
                    <!-- 確認メッセージ設定処理を呼び出し → 更新処理呼び出し用ボタンclick -->
                    <a4j:commandButton id="s4EditBtn" value="登録"
                        render="@form confirmDialogForm:confirmationDialogMessage"
                        onclick="return confirmationDialogOpenForUpd($('input[id$=s4EditBtn]'))"
                        oncomplete="$('input[id$=s4EditBtnHidden]').click();">
                    </a4j:commandButton>
                    <h:graphicImage class="btnRegistIconLayout" library="images"
                        name="common/com067.png" />
                    <a4j:commandButton id="s4EditBtnHidden" style="display: none;"
                        execute="@form"
                        render="@form #{rich:clientId('sTablePanel')}
                                smsCollectSettingMeterMeterManagementBean:smartRegistForm:s2ExamNoticeMonthPanel
                                smsCollectSettingMeterMeterManagementBean:smartRegistForm:s2DevNamePanel
                                smsCollectSettingMeterMeterManagementBean:smartRegistForm:s2MeterMngIdMapPanel
                                smsCollectSettingMeterMeterManagementBean:pulseRegistForm:p2ExamNoticeMonthPanel
                                smsCollectSettingMeterMeterManagementBean:pulseRegistForm:p2DevNamePanel
                                smsCollectSettingMeterMeterManagementBean:pulseRegistForm:p2MeterMngIdMapPanel
                                smsCollectSettingMeterMeterManagementBean:handyRegistForm:h2ExamNoticeMonthPanel
                                smsCollectSettingMeterMeterManagementBean:handyRegistForm:h2DevNamePanel
                                smsCollectSettingMeterMeterManagementBean:handyRegistForm:h2MeterMngIdMapPanel"
                        action="#{smsCollectSettingMeterMeterManagementBean.execEdit(smsCollectSettingMeterMeterManagementBean.smartUpdateProperty, '1')}"
                        onbegin="showBlockModal()"
                        oncomplete="hideBlockModal(); viewList('S'); clearChangeFlag(); dispButton(); moveColumnsForLteMDevice();">
                    </a4j:commandButton>
                </div>
            </div>

            <br /> <br /> <br />

            <div class="btnRegistLayout delBtnAreaS">
                <h:selectBooleanCheckbox id="delCheckBox" styleClass="delCheckBoxClass" />
                <h:outputLabel for="delCheckBox">：削除ボタンを有効にする</h:outputLabel>
                <h:selectBooleanCheckbox id="s4SendFlg" value="#{smsCollectSettingMeterMeterManagementBean.sendDelFlg}" style="margin-left: 24px;"
                    rendered="#{!smsCollectSettingMeterMeterManagementBean.lteMDeviceFlg}" />
                <h:outputLabel for="s4SendFlg" rendered="#{!smsCollectSettingMeterMeterManagementBean.lteMDeviceFlg}">：機器に送信する</h:outputLabel>
            </div>
            <br />
            <div
                class="gradation_type_5 button_large_2 btnRegistLayout delBtnAreaS s4DeleteBtn">
                <!-- 確認メッセージ設定処理を呼び出し → 削除処理呼び出し用ボタンclick -->
                <a4j:commandButton
                        id="s4DeleteBtn"
                        class="action_button"
                        value="削除"
                        render="@form confirmDialogForm:confirmationDialogMessage"
                        onclick="return confirmationDialogOpenForDel($('input[id$=s4DeleteBtn]'))"
                        oncomplete="$('input[id$=s4DeleteBtnHidden]').click();"
                        >
                </a4j:commandButton>
                <h:graphicImage class="btnRegistIconLayout" library="images" name="common/com067.png" />
                <a4j:commandButton
                        id="s4DeleteBtnHidden"
                        style="display: none;"
                        execute=":smartListFrom"
                        render="@form #{rich:clientId('sTablePanel')}
                            smsCollectSettingMeterMeterManagementBean:smartRegistForm:s2ExamNoticeMonthPanel
                            smsCollectSettingMeterMeterManagementBean:smartRegistForm:s2DevNamePanel
                            smsCollectSettingMeterMeterManagementBean:smartRegistForm:s2MeterMngIdMapPanel
                            smsCollectSettingMeterMeterManagementBean:pulseRegistForm:p2ExamNoticeMonthPanel
                            smsCollectSettingMeterMeterManagementBean:pulseRegistForm:p2DevNamePanel
                            smsCollectSettingMeterMeterManagementBean:pulseRegistForm:p2MeterMngIdMapPanel
                            smsCollectSettingMeterMeterManagementBean:handyRegistForm:h2ExamNoticeMonthPanel
                            smsCollectSettingMeterMeterManagementBean:handyRegistForm:h2DevNamePanel
                            smsCollectSettingMeterMeterManagementBean:handyRegistForm:h2MeterMngIdMapPanel"
                        action="#{smsCollectSettingMeterMeterManagementBean.execDelete()}"
                        onbegin="showBlockModal()"
                        oncomplete="hideBlockModal(); viewList('S'); clearChangeFlag(); dispButton(); moveColumnsForLteMDevice();">
                </a4j:commandButton>
            </div>
        </form>
    </div>
</div>
</html>
