<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:rich="http://richfaces.org/rich" xmlns:cust="http://xmlns.jcp.org/jsf/component"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:a4j="http://richfaces.org/a4j">

    <div style="margin-top: 0;">
        <div>
            <rich:messages id="o2Messages" styleClass="errNonSearch errArea" />
            <h3 class="contents_title">API取得</h3>
            <div class="contents_form_area">
                <div class="body">AieLinkサーバから最新のメーター一覧を取得し、<br />本システムへアップデートする場合は、登録ボタンを押してください。</div>
                <br />
                <br />
                <br />

                <form jsfc="h:form" id="ocrGetApiUploadForm">
                    <div style="display:none;">
                        <!-- <h:inputText id="file_input_name" class="file_input_name" value="#{smsCollectSettingMeterMeterManagementBean.uploadFileName}"></h:inputText> -->
                        <!-- <div id="file_input_val" class="file_input_val" value="#{smsCollectSettingMeterMeterManagementBean.uploadFile}"></div> -->
                        <!-- <h:inputFile id="file_input_val" class="file_input_val" /> -->
                    </div>
                    <div class="gradation_type_1 button_large_2 btnRegistLayout">
                        <!-- 確認メッセージ設定処理を呼び出し → 登録処理呼び出し用ボタンclick -->
                        <a4j:commandButton
                            id="o2RegistBtn"
                            class="action_button"
                            value="登録"
                            form="ocrGetApiUploadForm"
                            execute="@form"
                            render="@form confirmDialogForm:confirmationDialogMessage #{rich:component('ocrBulkErrorDialog')}
                                    ocrBulkErrorDialog
                                    #{rich:clientId('oTablePanel')}"
                            action="#{smsCollectSettingMeterMeterManagementBean.execGetApiOCR()}"
                            onbegin="showBlockModal()"
                            oncomplete="hideBlockModal(); viewList('O'); if (#{smsCollectSettingMeterMeterManagementBean.bulkErrorList.isEmpty()}) { console.log('OK') } else { #{rich:component('ocrBulkErrorDialog')}.show(); }; clearChangeFlag(); dispButton();"
                            onclick="return confirmationDialogOpenForGetApi($('input[id$=o2RegistBtn]'))"
                            >
                        </a4j:commandButton>
                        <h:graphicImage class="btnRegistIconLayout" library="images" name="common/com067.png" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</html>
