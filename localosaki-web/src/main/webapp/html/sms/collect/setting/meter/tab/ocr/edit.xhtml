<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:cust="http://xmlns.jcp.org/jsf/component"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:a4j="http://richfaces.org/a4j">
<div style="margin-top: 0;">
    <div>
        <rich:messages id="o4Messages" styleClass="errNonSearch errArea" />
        <h3 class="contents_title editDisp">登録内容変更</h3>
        <!-- 各入力項目は一覧のチェックボックスの状態変更時にセットしている smsCollectSettingMeterMeterManagementBean.checkBoxOperation() -->
        <form jsfc="h:form" id="ocrEditForm">
            <div class="contents_form_area editDisp">
                <div jsfc="a4j:outputPanel" id="o4Panel">
                    <table class="o4Table">
                        <tr style="height: 10px">
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td class="TXT008">登録先装置選択</td>
                            <td class="TXT020" colspan="2"><h:outputText id="o4DevName"
                                    value="#{smsCollectSettingMeterMeterManagementBean.ocrProperty.devName}"></h:outputText>
                                <h:inputHidden
                                    value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.devId}"
                                    id="o4DevId" /></td>
                            <td>※登録先装置を選択</td>
                        </tr>
                        <tr>
                            <td class="TXT008">メーター管理番号</td>
                            <td class="TXT020" colspan="2"><h:outputText id="o4MeterMngId"
                                    value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.meterMngId}"></h:outputText><br />
                            </td>
                            <td>※登録メーター管理番号</td>
                        </tr>
                        <tr>
                            <td class="TXT008">ユーザーコード</td>
                            <td colspan="2"><h:inputText id="o4UserCode"
                                    class="textWidthMedium check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.tenantId}"
                                    maxlength="6"
                                    style="#{smsCollectSettingMeterMeterManagementBean.getInvalidStyle(component.clientId)}"></h:inputText>
                            </td>
                            <td>※入力範囲 ： "1～999999" または "ブランク"</td>
                        </tr>
                        <tr>
                            <td class="TXT008">計器ID</td>
                            <td class="TXT020" colspan="2"><h:outputText id="o4EquipId"
                                    value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.meterId}"></h:outputText>
                            </td>
                            <td>※全10桁 (半角英数字)</td>
                        </tr>
                        <tr>
                            <td class="TXT008">メーター種別</td>
                            <td colspan="2"><h:selectOneMenu id="o4MetertypeSelect"
                                    class="EDIT002 check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.meterType}">
                                    <f:selectItems
                                        value="#{smsCollectSettingMeterMeterManagementBean.metertypeMap}" />
                                </h:selectOneMenu></td>
                            <td>※メーターの種別を選択</td>
                        </tr>
<!--                         ここに乗率を追加する -->
                        <tr>
                            <td class="TXT008">乗率</td>
                                 <td colspan="2"><h:inputText id="p2Multi"
                                         class="textWidthSmall check_change"
                                         value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.multi}"
                                         maxlength="4"
                                         style="#{smsCollectSettingMeterMeterManagementBean.getInvalidStyle(component.clientId)}"></h:inputText>
                                 </td>
                                 <td>※入力範囲："1～9999"</td>
                        </tr>
                        <tr>
                            <td class="TXT008">検満年月</td>
                            <td class="TXT020" colspan="2">
                                <div jsfc="a4j:outputPanel" id="o4YearDisp">
                                    <ui:fragment rendered="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.dispYearFlg == '0'}">
                                        <h:outputText value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.examEndYear}" /> 年
                                    </ui:fragment>
                                    <ui:fragment rendered="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.dispYearFlg == '1'}">
                                        <h:outputText value="#{smsCollectSettingMeterMeterManagementBean.getGengoNm(smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.examEndYmGengo)}" />&nbsp;
                                        <h:outputText value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.examEndYearWareki}" /> 年
                                    </ui:fragment>
                                </div>
                                <h:outputText value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.examEndMonth}" /> 月
                            </td>
                            <td>※検定有効期間が満了する年月</td>
                        </tr>
                        <tr>
                            <td class="TXT008">検満通知</td>
                            <td colspan="2"><h:selectOneMenu id="o4ExamnoticeSelect"
                                    class="EDIT002 check_change"
                                    value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.examNotice}">
                                    <f:selectItems
                                        value="#{smsCollectSettingMeterMeterManagementBean.examnoticeMap}" />
                                </h:selectOneMenu></td>
                            <td>
                                ※検満年月の
                                <font color="red"><h:outputText value="#{smsCollectSettingMeterMeterManagementBean.examNoticeMonth}"></h:outputText>ヶ月</font>
                                前からメール通知します。
                            </td>
                        </tr>
                    </table>
                    <h:inputHidden value="#{smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty.version}" id="o4Version" />
                </div>
                <br /> <br /> <br />
                <div class="gradation_type_1 button_large_2 btnRegistLayout">
                    <!-- 確認メッセージ設定処理を呼び出し → 更新処理呼び出し用ボタンclick -->
                    <a4j:commandButton id="o4EditBtn" value="登録"
                        execute="@form"
                        render="@form confirmDialogForm:confirmationDialogMessage
                                #{rich:clientId('oTablePanel')}
                                smsCollectSettingMeterMeterManagementBean:ocrRegistForm:o2ExamNoticeMonthPanel
                                smsCollectSettingMeterMeterManagementBean:ocrRegistForm:o2DevNamePanel
                                smsCollectSettingMeterMeterManagementBean:ocrRegistForm:o2MeterMngIdMapPanel"
                        onclick="return confirmationDialogOpenForUpd($('input[id$=o4EditBtn]'))"
                        action="#{smsCollectSettingMeterMeterManagementBean.execEdit(smsCollectSettingMeterMeterManagementBean.ocrUpdateProperty, '1')}"
                        onbegin="showBlockModal()"
                        oncomplete="hideBlockModal(); viewList('O'); clearChangeFlag(); dispButton();">
                    </a4j:commandButton>
                    <h:graphicImage class="btnRegistIconLayout" library="images" name="common/com067.png" />
                </div>
            </div>

            <br /> <br /> <br />

            <div class="btnRegistLayout delBtnAreaO">
                <h:selectBooleanCheckbox id="delCheckBox" styleClass="delCheckBoxClass" />
                <h:outputLabel for="delCheckBox">：削除ボタンを有効にする</h:outputLabel>
            </div>
            <br />
            <div
                class="gradation_type_5 button_large_2 btnRegistLayout delBtnAreaO o4DeleteBtn">
                <!-- 確認メッセージ設定処理を呼び出し → 削除処理呼び出し用ボタンclick -->
                <a4j:commandButton
                        id="o4DeleteBtn"
                        class="action_button"
                        value="削除"
                        render="@form confirmDialogForm:confirmationDialogMessage
                            #{rich:clientId('oTablePanel')}
                            smsCollectSettingMeterMeterManagementBean:ocrRegistForm:o2ExamNoticeMonthPanel
                            smsCollectSettingMeterMeterManagementBean:ocrRegistForm:o2DevNamePanel
                            smsCollectSettingMeterMeterManagementBean:ocrRegistForm:o2MeterMngIdMapPanel"
                        onclick="return confirmationDialogOpenForDel($('input[id$=o4DeleteBtn]'))"
                        action="#{smsCollectSettingMeterMeterManagementBean.execDelete()}"
                        onbegin="showBlockModal()"
                        oncomplete="hideBlockModal(); viewList('O'); clearChangeFlag(); dispButton();">
                </a4j:commandButton>
                <h:graphicImage class="btnRegistIconLayout" library="images" name="common/com067.png" />
            </div>
        </form>
    </div>
</div>
</html>
