<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:oslib="http://osaki.co.jp/base-component"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a4j="http://richfaces.org/a4j">

    <head jsfc="h:head">
        <title>Facelets Template</title>
    </head>
    <body jsfc="h:body">
        <ui:composition template="/html/template/template_kari_login.xhtml">
            <ui:define name="content">
                <h:outputStylesheet library="css" name="common/button.css"/>
                <h:outputStylesheet library="css" name="login/editPassword.css"/>
                <form jsfc="h:form" id="loginEditPasswordBean">
                    <div class="bread index_spacing"></div>
                        <div class="editPW_area" style="border:1px solid #000; border-radius:5px;">
                            <div class="editPW_title_area" style="width:600x; margin-left: 150px;">
                                <div class="page_title" style="margin-bottom:20px;">パスワード設定</div>
                                <div class="page_subtitle">
                                    パスワードを設定してください　※パスワードの有効期限は#{loginEditPasswordBean.passwordLimitDays}日間です
                                </div>                                   
                            </div>                         
                            <table class="editPW_table_margin">
                                
                                <tr>
                                    <td colspan="4">
                                        <rich:messages  id="messages"/>
                                    </td>
                                </tr>
                                <tr class="login_td_height">
                                    <td class="login_font_td">
                                        <div class="TXT008">現在のパスワード<span class="required"></span></div>
                                    </td>
                                    <td>
                                        <h:inputSecret tabindex="1" class="input_box_height input_box_width autofocus"
                                               id="tempPassword" value="#{loginEditPasswordBean.tempPassword}"
                                               required="true" label="現在のパスワード"
                                               validatorMessage="#{ValRes.tempPassword}#{ValRes.passwordValidation}">
                                            <f:attribute name="minDigits" value="8" />
                                            <f:attribute name="maxDigits" value="20" />
                                        </h:inputSecret>
                                    </td>
                                </tr>
                                <tr class="login_td_height">
                                    <td class="login_font_td">
                                        <div class="TXT008">新しいパスワード<span class="required"></span></div>
                                    </td>
                                    <td>
                                        <h:inputSecret tabindex="2" class="input_box_height input_box_width autofocus"
                                               id="newPassword" value="#{loginEditPasswordBean.newPassword}"
                                               required="true" label="新しいパスワード"
                                               validatorMessage="#{ValRes.newPassword}#{ValRes.passwordValidation}">
                                            <f:validator validatorId="PasswordValidation" ></f:validator>
                                            <f:attribute name="minDigits" value="8" />
                                            <f:attribute name="maxDigits" value="20" />
                                        </h:inputSecret>
                                    </td>
                                </tr>
                                <tr class="login_td_height">
                                    <td class="login_font_td">
                                        <div class="TXT008">パスワード確認<span class="required"></span></div>
                                    </td>
                                    <td>
                                        <h:inputSecret tabindex="3" class="input_box_height input_box_width"
                                               id="confirmPassword" value="#{loginEditPasswordBean.confirmPassword}"
                                               required="true" label="パスワード確認">
                                        </h:inputSecret>
                                    </td>
                                    <!--
                                    <td class="table_error">
                                        <label jsfc="h:message" for="confirmPassword" />
                                    </td>
                                    -->
                                </tr>
    <!--                            <tr class="login_btn_td_height">
                                    <td></td>
                                    <td></td>
                                    <td>
                                        <input jsfc="h:commandButton" 
                                               class="button_radius command_button_height command_button_width 
                                               command_button_color button_border
                                               button_font_size pass_spacing"
                                               value="登録" action="#{loginEditPasswordBean.changePassword()}" />
                                    </td>
                                    <td></td>
                                </tr>-->
                            </table>
                            <div class="editPW_button_area gradation_type_1 button_large_2">
<!--                                <input jsfc="h:commandButton" tabindex="3" id="changePasswordBtn"
                                       class=""
                                       value="登録" 
                                       action="#{loginEditPasswordBean.changePassword()}"/> -->
                                <a4j:commandButton 
                                    tabindex="3"
                                    id="changePasswordBtn" 
                                    value="登録"
                                    execute="@form" 
                                    render="@form" 
                                    action="#{loginEditPasswordBean.changePassword()}"
                                    onbegin="showBlockModal()" 
                                    oncomplete="hideBlockModal()">
                               </a4j:commandButton>

                                <h:graphicImage class="button_icon" library="images" name="common/com067.png" />
                            </div>
                        </div>
                     <!--アクセストークン用--> 
                    <oslib:requestToken />
                </form>
            </ui:define>
        </ui:composition> 
    </body> 
</html>

